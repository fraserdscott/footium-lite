import{a7 as X,S as Y,i as Z,s as g,N as K,j as B,v as x,O as Q,a as b,d as i,l as R,w as ee,b as _,f as j,G as f,x as te,p as se,n as ae,A as le,M as J,e as z,t as p,c as E,g as m,h as q,K as H,P as re}from"../../chunks/vendor-c564b019.js";import{S as ie,H as ce}from"../../chunks/graphql-126ef292.js";import{t as oe,c as ne,W as de,f as ue}from"../../chunks/WalletAccess-5297724b.js";import{p as fe}from"../../chunks/stores-5839b29b.js";import"../../chunks/config-189b06cb.js";import"../../chunks/NavButton-5da891c2.js";import"../../chunks/paths-28a87002.js";import"../../chunks/notifications-f6b9b417.js";class ve{constructor(e,s,a){this.transactions=s,this.queryStore=new ce(e,`
    query GetMatch($id: ID){
      match(id: $id) {
        id
        accountA {
          id
          formation
        }
        accountB {
          id
          formation
        }
        status
        requestId
        randomNumber
        winStatus
        timestamp
      }
    }`,ne,{path:"match",variables:{id:a}}),this.store=X([this.queryStore,this.transactions],t=>this.update(t))}update([e]){if(e.data){let s=e.data;return{step:e.step,error:e.error,data:s}}else return e}acknowledgeError(){return this.queryStore.acknowledgeError()}subscribe(e,s){return this.store.subscribe(e,s)}}const he=n=>new ve(ie,oe,n);function _e(n){let e,s,a,t=n[3](n[1].data.accountA.id)+"",c,l,v,r=n[3](n[1].data.accountB.id)+"",o,d,h,V=n[1].data.accountA.formation+"",M,w,$=n[1].data.accountB.formation+"",y,F,u,D,A=n[4](n[1].data.timestamp)+"",N,P;function U(k,I){return k[1].data.status===0?Ee:k[1].data.status===1?ze:k[1].data.status===2?je:ke}let T=U(n),S=T(n);return{c(){e=z("div"),s=z("h2"),a=z("b"),c=p(t),l=p(" VS "),v=z("b"),o=p(r),d=B(),h=z("p"),M=p(V),w=p(" VS "),y=p($),F=B(),u=z("p"),D=p("Will take place on: "),N=p(A),P=B(),S.c(),this.h()},l(k){e=E(k,"DIV",{class:!0});var I=b(e);s=E(I,"H2",{class:!0});var W=b(s);a=E(W,"B",{class:!0});var L=b(a);c=m(L,t),L.forEach(i),l=m(W," VS "),v=E(W,"B",{class:!0});var C=b(v);o=m(C,r),C.forEach(i),d=R(W),h=E(W,"P",{class:!0});var G=b(h);M=m(G,V),w=m(G," VS "),y=m(G,$),G.forEach(i),F=R(W),u=E(W,"P",{class:!0});var O=b(u);D=m(O,"Will take place on: "),N=m(O,A),O.forEach(i),W.forEach(i),P=R(I),S.l(I),I.forEach(i),this.h()},h(){_(a,"class","svelte-8b44jz"),_(v,"class","svelte-8b44jz"),_(h,"class","svelte-8b44jz"),_(u,"class","svelte-8b44jz"),_(s,"class","svelte-8b44jz"),_(e,"class","px-2 svelte-8b44jz")},m(k,I){j(k,e,I),f(e,s),f(s,a),f(a,c),f(s,l),f(s,v),f(v,o),f(s,d),f(s,h),f(h,M),f(h,w),f(h,y),f(s,F),f(s,u),f(u,D),f(u,N),f(e,P),S.m(e,null)},p(k,I){I&2&&t!==(t=k[3](k[1].data.accountA.id)+"")&&q(c,t),I&2&&r!==(r=k[3](k[1].data.accountB.id)+"")&&q(o,r),I&2&&V!==(V=k[1].data.accountA.formation+"")&&q(M,V),I&2&&$!==($=k[1].data.accountB.formation+"")&&q(y,$),I&2&&A!==(A=k[4](k[1].data.timestamp)+"")&&q(N,A),T===(T=U(k))&&S?S.p(k,I):(S.d(1),S=T(k),S&&(S.c(),S.m(e,null)))},d(k){k&&i(e),S.d()}}}function pe(n){let e,s,a;return{c(){e=z("div"),s=z("p"),a=p("This match has not been created yet."),this.h()},l(t){e=E(t,"DIV",{class:!0});var c=b(e);s=E(c,"P",{class:!0});var l=b(s);a=m(l,"This match has not been created yet."),l.forEach(i),c.forEach(i),this.h()},h(){_(s,"class","svelte-8b44jz"),_(e,"class","svelte-8b44jz")},m(t,c){j(t,e,c),f(e,s),f(s,a)},p:H,d(t){t&&i(e)}}}function me(n){let e,s,a=n[1].error+"",t;return{c(){e=z("div"),s=p("Error: "),t=p(a),this.h()},l(c){e=E(c,"DIV",{class:!0});var l=b(e);s=m(l,"Error: "),t=m(l,a),l.forEach(i),this.h()},h(){_(e,"class","svelte-8b44jz")},m(c,l){j(c,e,l),f(e,s),f(e,t)},p(c,l){l&2&&a!==(a=c[1].error+"")&&q(t,a)},d(c){c&&i(e)}}}function be(n){let e,s;return{c(){e=z("div"),s=p("match not loaded"),this.h()},l(a){e=E(a,"DIV",{class:!0});var t=b(e);s=m(t,"match not loaded"),t.forEach(i),this.h()},h(){_(e,"class","svelte-8b44jz")},m(a,t){j(a,e,t),f(e,s)},p:H,d(a){a&&i(e)}}}function ke(n){let e,s;return{c(){e=z("div"),s=p("Fix me"),this.h()},l(a){e=E(a,"DIV",{class:!0});var t=b(e);s=m(t,"Fix me"),t.forEach(i),this.h()},h(){_(e,"class","px-2 svelte-8b44jz")},m(a,t){j(a,e,t),f(e,s)},p:H,d(a){a&&i(e)}}}function je(n){let e,s,a,t,c,l=n[1].data.requestId+"",v,r,o,d,h=n[1].data.randomNumber+"",V,M,w,$,y=(n[1].data.winStatus===0?n[3](n[1].data.accountA.id):n[1].data.winStatus===0?n[3](n[1].data.accountB.id):"Draw")+"",F;return{c(){e=z("div"),s=p("VRF received"),a=B(),t=z("div"),c=p("Request ID: "),v=p(l),r=B(),o=z("div"),d=p("Seed: "),V=p(h),M=B(),w=z("div"),$=p("Winner: "),F=p(y),this.h()},l(u){e=E(u,"DIV",{class:!0});var D=b(e);s=m(D,"VRF received"),D.forEach(i),a=R(u),t=E(u,"DIV",{class:!0});var A=b(t);c=m(A,"Request ID: "),v=m(A,l),A.forEach(i),r=R(u),o=E(u,"DIV",{class:!0});var N=b(o);d=m(N,"Seed: "),V=m(N,h),N.forEach(i),M=R(u),w=E(u,"DIV",{class:!0});var P=b(w);$=m(P,"Winner: "),F=m(P,y),P.forEach(i),this.h()},h(){_(e,"class","svelte-8b44jz"),_(t,"class","svelte-8b44jz"),_(o,"class","svelte-8b44jz"),_(w,"class","svelte-8b44jz")},m(u,D){j(u,e,D),f(e,s),j(u,a,D),j(u,t,D),f(t,c),f(t,v),j(u,r,D),j(u,o,D),f(o,d),f(o,V),j(u,M,D),j(u,w,D),f(w,$),f(w,F)},p(u,D){D&2&&l!==(l=u[1].data.requestId+"")&&q(v,l),D&2&&h!==(h=u[1].data.randomNumber+"")&&q(V,h),D&2&&y!==(y=(u[1].data.winStatus===0?u[3](u[1].data.accountA.id):u[1].data.winStatus===0?u[3](u[1].data.accountB.id):"Draw")+"")&&q(F,y)},d(u){u&&i(e),u&&i(a),u&&i(t),u&&i(r),u&&i(o),u&&i(M),u&&i(w)}}}function ze(n){let e,s,a,t,c,l=n[1].data.requestId+"",v;return{c(){e=z("div"),s=p("VRF not received"),a=B(),t=z("div"),c=p("Request ID: "),v=p(l),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=b(e);s=m(o,"VRF not received"),o.forEach(i),a=R(r),t=E(r,"DIV",{class:!0});var d=b(t);c=m(d,"Request ID: "),v=m(d,l),d.forEach(i),this.h()},h(){_(e,"class","svelte-8b44jz"),_(t,"class","svelte-8b44jz")},m(r,o){j(r,e,o),f(e,s),j(r,a,o),j(r,t,o),f(t,c),f(t,v)},p(r,o){o&2&&l!==(l=r[1].data.requestId+"")&&q(v,l)},d(r){r&&i(e),r&&i(a),r&&i(t)}}}function Ee(n){let e,s,a,t,c,l,v;return{c(){e=z("div"),s=p("VRF not requested"),a=B(),t=z("button"),c=p("Request VRF"),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=b(e);s=m(o,"VRF not requested"),o.forEach(i),a=R(r),t=E(r,"BUTTON",{class:!0,type:!0});var d=b(t);c=m(d,"Request VRF"),d.forEach(i),this.h()},h(){_(e,"class","svelte-8b44jz"),_(t,"class","flex-shrink-0 bg-pink-600 hover:bg-pink-700 border-pink-600 hover:border-pink-700 text-sm border-4 text-white py-1 px-2 rounded disabled:bg-gray-400 disabled:border-gray-400 disabled:cursor-not-allowed svelte-8b44jz"),_(t,"type","button")},m(r,o){j(r,e,o),f(e,s),j(r,a,o),j(r,t,o),f(t,c),l||(v=re(t,"click",n[6]),l=!0)},p:H,d(r){r&&i(e),r&&i(a),r&&i(t),l=!1,v()}}}function De(n){let e,s,a,t=n[0].params.id+"",c,l;function v(d,h){return d[1].step?d[1].error?me:d[1].step==="LOADING"||!d[1].data?pe:_e:be}let r=v(n),o=r(n);return{c(){e=z("div"),s=z("b"),a=p("Match "),c=p(t),l=B(),o.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var h=b(e);s=E(h,"B",{class:!0});var V=b(s);a=m(V,"Match "),c=m(V,t),V.forEach(i),l=R(h),o.l(h),h.forEach(i),this.h()},h(){_(s,"class","svelte-8b44jz"),_(e,"class","py-8 px-4 svelte-8b44jz")},m(d,h){j(d,e,h),f(e,s),f(s,a),f(s,c),f(e,l),o.m(e,null)},p(d,h){h&1&&t!==(t=d[0].params.id+"")&&q(c,t),r===(r=v(d))&&o?o.p(d,h):(o.d(1),o=r(d),o&&(o.c(),o.m(e,null)))},d(d){d&&i(e),o.d()}}}function Ve(n){let e,s,a,t,c;return t=new de({props:{$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){e=K("symbol"),s=K("path"),a=B(),x(t.$$.fragment),this.h()},l(l){e=Q(l,"symbol",{id:!0,viewBox:!0,class:!0});var v=b(e);s=Q(v,"path",{d:!0,class:!0}),b(s).forEach(i),v.forEach(i),a=R(l),ee(t.$$.fragment,l),this.h()},h(){_(s,"d","M12 4c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM24.719 16c0 0 0 0 0 0 0-1.812 1.469-3.281 3.281-3.281s3.281 1.469 3.281 3.281c0 0 0 0 0 0 0 1.812-1.469 3.281-3.281 3.281s-3.281-1.469-3.281-3.281zM21.513 24.485c0-1.641 1.331-2.972 2.972-2.972s2.972 1.331 2.972 2.972c0 1.641-1.331 2.972-2.972 2.972s-2.972-1.331-2.972-2.972zM13.308 28c0-1.487 1.205-2.692 2.692-2.692s2.692 1.205 2.692 2.692c0 1.487-1.205 2.692-2.692 2.692s-2.692-1.205-2.692-2.692zM5.077 24.485c0-1.346 1.092-2.438 2.438-2.438s2.438 1.092 2.438 2.438c0 1.346-1.092 2.438-2.438 2.438s-2.438-1.092-2.438-2.438zM1.792 16c0-1.22 0.989-2.208 2.208-2.208s2.208 0.989 2.208 2.208c0 1.22-0.989 2.208-2.208 2.208s-2.208-0.989-2.208-2.208zM5.515 7.515c0 0 0 0 0 0 0-1.105 0.895-2 2-2s2 0.895 2 2c0 0 0 0 0 0 0 1.105-0.895 2-2 2s-2-0.895-2-2zM28.108 7.515c0 2.001-1.622 3.623-3.623 3.623s-3.623-1.622-3.623-3.623c0-2.001 1.622-3.623 3.623-3.623s3.623 1.622 3.623 3.623z"),_(s,"class","svelte-8b44jz"),_(e,"id","icon-spinner6"),_(e,"viewBox","0 0 32 32"),_(e,"class","svelte-8b44jz")},m(l,v){j(l,e,v),f(e,s),j(l,a,v),te(t,l,v),c=!0},p(l,[v]){const r={};v&131&&(r.$$scope={dirty:v,ctx:l}),t.$set(r)},i(l){c||(se(t.$$.fragment,l),c=!0)},o(l){ae(t.$$.fragment,l),c=!1},d(l){l&&i(e),l&&i(a),le(t,l)}}}function Ie(n,e,s){let a,t;J(n,fe,d=>s(0,a=d));const c=he(a.params.id);J(n,c,d=>s(1,t=d));const l=d=>`${d.slice(0,8)}...`,v=d=>new Date(d*1e3).toDateString();async function r(d){await ue.execute(h=>h.FootiumLiteFriendlies.requestSeed(d))}return[a,t,c,l,v,r,()=>r(a.params.id)]}class Ae extends Y{constructor(e){super();Z(this,e,Ie,Ve,g,{})}}export{Ae as default};
//# sourceMappingURL=_id_.svelte-118c23c2.js.map
